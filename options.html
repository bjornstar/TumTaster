<html>
<head>
	<title>Options for ChromeTaster</title>
	<script type="text/javascript">
var defaultShuffle = false;
var defaultRepeat = true;

function loadOptions() {
  var shuffle = localStorage["shuffle"];
  var repeat = localStorage["repeat"];

  if (shuffle == undefined) {
    shuffle = defaultShuffle;
  }

  if (repeat == undefined) {
    repeat = defaultRepeat;
  }

  var select = document.getElementById("optionShuffle");
  for (var i = 0; i < select.children.length; i++) {
    var child = select.children[i];
    if (child.value == shuffle) {
      child.selected = "true";
      break;
    }
  }
  
  var select = document.getElementById("optionRepeat");
  for (var i = 0; i < select.children.length; i++) {
    var child = select.children[i];
    if (child.value == repeat) {
      child.selected = "true";
      break;
    }
  }
}

function saveOptions() {
	var selectShuffle = document.getElementById("optionShuffle");
	localStorage["shuffle"] = selectShuffle.children[selectShuffle.selectedIndex].value;
  var selectRepeat = document.getElementById("optionRepeat");
  localStorage["repeat"] = selectRepeat.children[selectRepeat.selectedIndex].value;
}

function eraseOptions() {
	localStorage.removeItem("shuffle");
	localStorage.removeItem("repeat");
	location.reload();
}
	</script>
</head>
<body onload="loadOptions()">
	<h1>ChromeTaster Options</h1>
	<label for="optionShuffle">Shuffle: </label>
	<select id="optionShuffle" name="optionShuffle">
		<option value="false">Off</option>
		<option value="true">On</option>
	</select>
	<label for="optionRepeat">Repeat: </label>
	<select id="optionRepeat" name="optionRepeat">
    <option value="false">Off</option>
    <option value="true">On</option>
  </select>
	<br />
	<button onclick="saveOptions()">Save</button>
	<br />
	<button onclick="eraseOptions()">Restore default</button>
</body>
</html>